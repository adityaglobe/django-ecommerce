{% extends "index.html" %}
{% load static %}

{% block title %}
<title>Cart</title>
{% endblock %}

{% block body %}
    <!-- Header part end-->

    <section class="breadcrumb_part">
      <div class="container">
          <div class="row">
              <div class="col-lg-12">
                  <div class="breadcrumb_iner">
                      <h2>Single product </h2>
                  </div>
              </div>
          </div>
      </div>
  </section>

  <!--================Single Product Area =================-->
  <div class="product_list section_padding pt-5">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-md-6">
          <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
           
            <div class="carousel-inner">
              <div class="carousel-item active">
                <img src="{{products.pic1.url}}"  height="500px" width="100%" class="d-block " alt="images">
              </div>
              {% if products.pic2 %}
              <div class="carousel-item">
                <img src="{{products.pic2.url}}" height="500px" width="100%" class="d-block " alt="images">
              </div>
              {% endif %}

              {% if products.pic3 %}
              <div class="carousel-item">
                <img src="{{products.pic3.url}}" height="500px" width="100%" class="d-block " alt="images">
              </div>
              {% endif %}

              {% if products.pic4 %}
              <div class="carousel-item">
                <img src="{{products.pic4.url}}" height="500px" width="100%" class="d-block " alt="images">
              </div>
              {% endif %}
            </div>
            <div class="d-flex justify-content-between mt-2">
              <img src="{{products.pic1.url}}" data-target="#carouselExampleIndicators" data-slide-to="0" height="100px" width="24%"  alt="images">

              {% if products.pic2 %}
              <img src="{{products.pic2.url}}" data-target="#carouselExampleIndicators" data-slide-to="1" height="100px" width="24%"  alt="images">
              {% endif %}

              {% if products.pic3 %}
              <img src="{{products.pic3.url}}" data-target="#carouselExampleIndicators" data-slide-to="2" height="100px" width="24%"  alt="images">
              {% endif %}

              {% if products.pic4 %}
              <img src="{{products.pic4.url}}" data-target="#carouselExampleIndicators" data-slide-to="3" height="100px" width="24%"  alt="images">
              {% endif %}
            </div>
            <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="sr-only">Next</span>
            </a>
          </div>
        </div>
        <div class="col-md-6">
          <div class="single_product_text text-center">
            <h3>{{products.name}}</h3>
            <h5>{{products.maincategory.name}}/ {{products.subcategory.name}}/ {{products.brand.name}}</h5>
            <p class="text-justify">{{products.description}}</p>
            <h5 class="text-left">color : {{products.color}}</h5>
            <h5 class="text-left">size : {{products.size}}</h5>
            <h5 class="text-left"><del class="text-danger">&#8377;{{products.baseprice}}</del>&#8377;{{products.finalprice}} <sup class="text-success">{{products.discount}}%off</sup></h5>  
            <form action="{% url 'add-to-cart' %}" method="post">
              {% csrf_token %}
              <input type="hidden" name="id" value="{{ products.id }}">
              
              <!-- Debugging print to check product ID -->
              <p>Product ID: {{ products.product_id }}</p>
              
              <div class="card_area">
                  <div class="product_count_area">
                      <p>Quantity</p>
                      <div class="product_count d-inline-block">
                          <span class="product_count_item number-decrement"> <i class="ti-minus"></i></span>
                          <input class="product_count_item input-number" type="text" name="qty" value="1" min="1">
                          <span class="product_count_item number-increment"> <i class="ti-plus"></i></span>
                      </div>
                      <p>$5</p>
                  </div>
                  <div class="row add_to_cart">
                      <button type="submit" style="margin-left: 10px;" class="btn_3 mt-2">
                          <i class="fa fa-shopping-cart"></i> Add To cart
                      </button>
                      <a href="{% url 'add-to-wishlist' products.id %}" style="margin-left: 10px;" class="btn_3 mt-2">
                          <i class="fa fa-heart"></i> Add To Wishlist
                      </a>
                      <a href="/shop/All/All/All" class="btn_3 mt-2" style="margin-left: 100px;">Go To Shop</a>
                  </div>
              </div>
          </form>
          
          </div>
        </div>
      </div>
    </div>
  </div>
  <!--================End Single Product Area =================-->
   <!-- subscribe part here -->
   <section class="subscribe_part section_padding">
      <div class="container">
          <div class="row justify-content-center">
              <div class="col-lg-8">
                  <div class="subscribe_part_content">
                      <h2>Get promotions & updates!</h2>
                      <p>Seamlessly empower fully researched growth strategies and interoperable internal or “organic” sources credibly innovate granular internal .</p>
                      <div class="subscribe_form">
                          <input type="email" placeholder="Enter your mail">
                          <a href="#" class="btn_1">Subscribe</a>
                      </div>
                  </div>
              </div>
          </div>
      </div>
  </section>
  <!-- subscribe part end -->
{% endblock %}